{"version":3,"sources":["main.js"],"names":["main","BALL_RADIUS","BALL_SPEED","X_MIN_PLAY_AREA","window","innerWidth","X_MAX_PLAY_AREA","Y_MIN_PLAY_AREA","innerHeight","Y_MAX_PLAY_AREA","TIMER","timer","score","canvasElement","document","getElementById","ball","getContext","playArea","platform","tableau","start","end","xPlatform","yPlatform","HALF_PLATFORM","ArrowLeftPressed","ArrowRightPressed","SpacePressed","x","y","Vx","Vy","startTimer","runTimer","setTimeout","run","clearInterval","keyDownHandler","event","code","keyUpHandler","addEventListener","drawScene","width","height","beginPath","strokeStyle","strokeRect","closePath","fillStyle","fillRect","arc","Math","PI","fill","stroke","font","fillText","strokeText","prepareNextScene","console","log","random","endScreen","gameOver","drawSceneAndPrepareNextScene","requestAnimationFrame","startScreen","clientX","clientY"],"mappings":"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","file":"main.1f19ae8e.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\n(function main() {\n  const BALL_RADIUS = 20;\n  const BALL_SPEED = 5;\n  // Размеры игрового поля\n  const X_MIN_PLAY_AREA = window.innerWidth * 0.1;\n  const X_MAX_PLAY_AREA = window.innerWidth * 0.9;\n  const Y_MIN_PLAY_AREA = window.innerHeight * 0.1;\n  const Y_MAX_PLAY_AREA = window.innerHeight * 0.9;\n\n  const TIMER = 20;\n  let timer = TIMER;\n  let score = 0;\n\n  const canvasElement = document.getElementById('canvas');\n  const ball = canvasElement.getContext('2d');\n  const playArea = canvasElement.getContext('2d');\n  const platform = canvasElement.getContext('2d');\n  const tableau = canvasElement.getContext('2d');\n  const start = canvasElement.getContext('2d');\n  const end = canvasElement.getContext('2d');\n\n  // Platform\n  let xPlatform = window.innerWidth / 2; // Middle of the platform\n  const yPlatform = Y_MAX_PLAY_AREA;\n  const HALF_PLATFORM = 50;\n  let ArrowLeftPressed = false;\n  let ArrowRightPressed = false;\n\n  let SpacePressed = false;\n\n  // Ball\n  let x = xPlatform;\n  let y = yPlatform - BALL_RADIUS;\n  let Vx = BALL_SPEED;\n  let Vy = BALL_SPEED;\n\n  // Timer\n  let startTimer = false;\n\n  const runTimer = () => {\n    if (startTimer) {\n      setTimeout(function run() {\n        timer -= 1;\n        if (timer === 0) {\n          clearInterval();\n          startTimer = false;\n        } else {\n          setTimeout(run, 1000);\n        }\n      }, 1000);\n    }\n  };\n\n\n  // Слушаем клавиатуру\n  function keyDownHandler(event) {\n    if (event.code === 'ArrowLeft') {\n      ArrowLeftPressed = true;\n    } else if (event.code === 'ArrowRight') {\n      ArrowRightPressed = true;\n    } else if (event.code === 'Space') {\n      SpacePressed = true;\n    }\n  }\n\n  function keyUpHandler(event) {\n    if (event.code === 'ArrowLeft') {\n      ArrowLeftPressed = false;\n    } else if (event.code === 'ArrowRight') {\n      ArrowRightPressed = false;\n    }\n  }\n  document.addEventListener('keydown', keyDownHandler, false);\n  document.addEventListener('keyup', keyUpHandler, false);\n\n  const drawScene = () => {\n    canvasElement.width = window.innerWidth;\n    canvasElement.height = window.innerHeight;\n    // Отрисовка игрового поля\n    playArea.beginPath();\n    playArea.strokeStyle = 'black';\n    playArea.strokeRect(X_MIN_PLAY_AREA, Y_MIN_PLAY_AREA,\n      (X_MAX_PLAY_AREA - X_MIN_PLAY_AREA),\n      (Y_MAX_PLAY_AREA - Y_MIN_PLAY_AREA));\n    playArea.closePath();\n    // Отрисовка платформы\n    platform.beginPath();\n    platform.fillStyle = 'brown';\n    platform.fillRect(xPlatform - HALF_PLATFORM, yPlatform, 2 * HALF_PLATFORM, 10);\n    platform.closePath();\n    // Отрисовка игрового мячика\n    ball.beginPath();\n    ball.arc(x, y, BALL_RADIUS, 0, 2 * Math.PI);\n    ball.fillStyle = 'green';\n    ball.fill();\n    ball.stroke();\n    ball.closePath();\n    // Отрисовка таймера счетчика очков\n    tableau.beginPath();\n    tableau.font = '24px serif';\n    tableau.fillText(`TIMER: ${timer} sec`, 100, 50);\n    tableau.strokeText(`SCORE: ${score}`, 100, 75);\n    tableau.closePath();\n  };\n\n\n  const prepareNextScene = () => {\n    console.log(`Vx = ${Vx}, Vy = ${Vy}, score = ${score}`);\n    // Двигаем платформой\n    if (ArrowLeftPressed && xPlatform > (X_MIN_PLAY_AREA + HALF_PLATFORM)) {\n      xPlatform -= 5;\n    } else if (ArrowRightPressed && xPlatform < (X_MAX_PLAY_AREA - HALF_PLATFORM)) {\n      xPlatform += 5;\n    }\n\n    // Движение мяча с платформой\n    if (y === yPlatform - BALL_RADIUS && SpacePressed === false) {\n      x = xPlatform;\n      // y = yPlatform - BALL_RADIUS;\n    }\n\n    // Запускаем мяч по нажатию на пробел\n    if (SpacePressed) {\n      x += Vx;\n      y -= Vy;\n    }\n\n    // Столкновение сo стенками\n    if (x < X_MIN_PLAY_AREA + BALL_RADIUS || x > X_MAX_PLAY_AREA - BALL_RADIUS) {\n      Vx = -Vx;\n    }\n\n    if (y < Y_MIN_PLAY_AREA + BALL_RADIUS) {\n      Vy = -Vy;\n    } else if (y > Y_MAX_PLAY_AREA - BALL_RADIUS) {\n      Vy = -Vy;\n      if (x > xPlatform - HALF_PLATFORM && x < xPlatform + HALF_PLATFORM) {\n        score += 1;\n        Vx = ((Math.random() < 0.5) ? -1 : 1) * Vx;\n        Vy += 1;\n      } else {\n        score -= 1;\n        SpacePressed = false;\n        xPlatform = window.innerWidth / 2;\n        x = xPlatform;\n        y = yPlatform - BALL_RADIUS;\n      }\n    }\n  };\n\n  // Финальный экран\n  const endScreen = () => {\n    canvasElement.width = window.innerWidth;\n    canvasElement.height = window.innerHeight;\n    end.beginPath();\n    start.fillStyle = 'blue';\n    start.font = '48px serif';\n    start.fillText(`Ваши очки за игру - ${score}`, window.innerWidth / 2 - 220, window.innerHeight / 2 + 12);\n    start.font = '32px serif';\n    start.fillText('Нажмите F5, чтобы начать сначала', window.innerWidth / 2 - 220, window.innerHeight / 2 + 75);\n    start.closePath();\n  };\n\n  // Game over\n  const gameOver = () => {\n    canvasElement.width = window.innerWidth;\n    canvasElement.height = window.innerHeight;\n    end.beginPath();\n    start.fillStyle = 'red';\n    start.font = '72px serif';\n    start.fillText('Game over', window.innerWidth / 2 - 159, window.innerHeight / 2 + 12);\n    start.font = '32px serif';\n    start.fillText('Нажмите F5, чтобы начать сначала', window.innerWidth / 2 - 220, window.innerHeight / 2 + 75);\n    start.closePath();\n  };\n\n  const drawSceneAndPrepareNextScene = () => {\n    if (startTimer) {\n      if (score < 0) {\n        gameOver();\n      } else {\n        drawScene();\n        prepareNextScene();\n        window.requestAnimationFrame(drawSceneAndPrepareNextScene);\n      }\n    } else {\n      endScreen();\n    }\n  };\n\n  // Начальный экран\n  const startScreen = () => {\n    // Отрисовка кнопки Начать игру\n    canvasElement.width = window.innerWidth;\n    canvasElement.height = window.innerHeight;\n    start.beginPath();\n    start.fillStyle = 'blue';\n    start.strokeStyle = 'blue';\n    start.strokeRect(window.innerWidth / 2 - 150, window.innerHeight / 2 - 25, 300, 50);\n    start.font = '48px serif';\n    start.fillText('Начать игру', window.innerWidth / 2 - 125, window.innerHeight / 2 + 12);\n    start.closePath();\n\n    // Отрабатываем нажатие на кнопку Начать Игру\n    document.addEventListener('click', (event) => {\n      if (event.clientX > window.innerWidth / 2 - 150\n          && event.clientX < window.innerWidth / 2 + 150\n          && event.clientY > window.innerHeight / 2 - 25\n          && event.clientY < window.innerHeight / 2 + 25) {\n        SpacePressed = false;\n        timer = TIMER;\n        startTimer = true;\n        runTimer();\n        drawSceneAndPrepareNextScene();\n      }\n    });\n  };\n\n\n  document.addEventListener('DOMcontentLoaded', startScreen());\n}());\n"]}